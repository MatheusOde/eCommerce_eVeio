{"remainingRequest":"D:\\GitHub\\eCommerce_eVeio\\eveio\\node_modules\\babel-loader\\lib\\index.js!D:\\GitHub\\eCommerce_eVeio\\eveio\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\GitHub\\eCommerce_eVeio\\eveio\\src\\components\\ShoppingList.js","dependencies":[{"path":"D:\\GitHub\\eCommerce_eVeio\\eveio\\src\\components\\ShoppingList.js","mtime":1638385127427},{"path":"D:\\GitHub\\eCommerce_eVeio\\eveio\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GitHub\\eCommerce_eVeio\\eveio\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\GitHub\\eCommerce_eVeio\\eveio\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJEOi9HaXRIdWIvZUNvbW1lcmNlX2VWZWlvL2V2ZWlvL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiRDovR2l0SHViL2VDb21tZXJjZV9lVmVpby9ldmVpby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IGZyb20gIkQ6L0dpdEh1Yi9lQ29tbWVyY2VfZVZlaW8vZXZlaW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzUHJpdmF0ZUZpZWxkR2V0IjsKaW1wb3J0IF9jbGFzc1ByaXZhdGVGaWVsZFNldCBmcm9tICJEOi9HaXRIdWIvZUNvbW1lcmNlX2VWZWlvL2V2ZWlvL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc1ByaXZhdGVGaWVsZFNldCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLndlYWstbWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7Cgp2YXIgX2V2ZW50cyA9IC8qI19fUFVSRV9fKi9uZXcgV2Vha01hcCgpOwoKdmFyIFNob3BwaW5nTGlzdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gU2hvcHBpbmdMaXN0KCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNob3BwaW5nTGlzdCk7CgogICAgX2V2ZW50cy5zZXQodGhpcywgewogICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgdmFsdWU6IHZvaWQgMAogICAgfSk7CgogICAgdGhpcy5pdGVtcyA9IFtdOwoKICAgIF9jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfZXZlbnRzLCB7fSk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoU2hvcHBpbmdMaXN0LCBbewogICAga2V5OiAiYWRkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGQoaXRlbSkgewogICAgICB2YXIgaXRlbUluZGV4ID0gdGhpcy5pdGVtcy5maW5kSW5kZXgoZnVuY3Rpb24gKGkpIHsKICAgICAgICByZXR1cm4gaS5pZCA9PT0gaXRlbS5pZDsKICAgICAgfSk7CgogICAgICBpZiAoaXRlbUluZGV4ID09PSAtMSkgewogICAgICAgIHRoaXMuaXRlbXMucHVzaChpdGVtKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLml0ZW1zW2l0ZW1JbmRleF0uYW1tb3VudCA9IGl0ZW0uYW1tb3VudDsKICAgICAgfQoKICAgICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfZXZlbnRzKVsnYWRkJ10pIHsKICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX2V2ZW50cylbJ2FkZCddLmZvckVhY2goZnVuY3Rpb24gKHdhdGNoZXIpIHsKICAgICAgICAgIHJldHVybiB3YXRjaGVyKGl0ZW0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAicmVtb3ZlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmUoaXRlbSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5pdGVtcyA9IHRoaXMuaXRlbXMuZmlsdGVyKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgcmV0dXJuIGkuaWQgIT09IGl0ZW0uaWQ7CiAgICAgIH0pOwoKICAgICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfZXZlbnRzKVsncmVtb3ZlJ10pIHsKICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX2V2ZW50cylbJ3JlbW92ZSddLmZvckVhY2goZnVuY3Rpb24gKHdhdGNoZXIpIHsKICAgICAgICAgIHJldHVybiB3YXRjaGVyKF90aGlzLml0ZW1zKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImdldEl0ZW1zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJdGVtcygpIHsKICAgICAgcmV0dXJuIHRoaXMuaXRlbXM7CiAgICB9CiAgfSwgewogICAga2V5OiAib24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uKHR5cGUsIHdhdGNoZXIpIHsKICAgICAgaWYgKHR5cGVvZiB3YXRjaGVyID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgaWYgKCFfY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX2V2ZW50cylbdHlwZV0pIHsKICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfZXZlbnRzKVt0eXBlXSA9IFt3YXRjaGVyXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ldmVudHMpW3R5cGVdLnB1c2god2F0Y2hlcik7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfV0pOwoKICByZXR1cm4gU2hvcHBpbmdMaXN0Owp9KCk7CgpleHBvcnQgZGVmYXVsdCBuZXcgU2hvcHBpbmdMaXN0KCk7"},{"version":3,"sources":["D:/GitHub/eCommerce_eVeio/eveio/src/components/ShoppingList.js"],"names":["ShoppingList","items","item","itemIndex","findIndex","i","id","push","ammount","forEach","watcher","filter","type"],"mappings":";;;;;;;;;;;;;;IAAMA,Y;AAEJ,0BAAc;AAAA;;AAAA;AAAA;AAAA;AAAA;;AACZ,SAAKC,KAAL,GAAa,EAAb;;AACA,yCAAe,EAAf;AACD;;;;WAED,aAAIC,IAAJ,EAAU;AACR,UAAMC,SAAS,GAAG,KAAKF,KAAL,CAAWG,SAAX,CAAqB,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAACC,EAAF,KAASJ,IAAI,CAACI,EAAlB;AAAA,OAAtB,CAAlB;;AACA,UAAIH,SAAS,KAAK,CAAC,CAAnB,EAAsB;AACpB,aAAKF,KAAL,CAAWM,IAAX,CAAgBL,IAAhB;AACD,OAFD,MAEO;AACL,aAAKD,KAAL,CAAWE,SAAX,EAAsBK,OAAtB,GAAgCN,IAAI,CAACM,OAArC;AACD;;AACD,UAAI,qCAAa,KAAb,CAAJ,EAAyB;AACvB,6CAAa,KAAb,EAAoBC,OAApB,CAA4B,UAAAC,OAAO;AAAA,iBAAIA,OAAO,CAACR,IAAD,CAAX;AAAA,SAAnC;AACD;AACF;;;WAED,gBAAOA,IAAP,EAAa;AAAA;;AACX,WAAKD,KAAL,GAAa,KAAKA,KAAL,CAAWU,MAAX,CAAkB,UAAAN,CAAC;AAAA,eAAIA,CAAC,CAACC,EAAF,KAASJ,IAAI,CAACI,EAAlB;AAAA,OAAnB,CAAb;;AACA,UAAI,qCAAa,QAAb,CAAJ,EAA4B;AAC1B,6CAAa,QAAb,EAAuBG,OAAvB,CAA+B,UAAAC,OAAO;AAAA,iBAAIA,OAAO,CAAC,KAAI,CAACT,KAAN,CAAX;AAAA,SAAtC;AACD;AACF;;;WAED,oBAAW;AACT,aAAO,KAAKA,KAAZ;AACD;;;WAED,YAAGW,IAAH,EAASF,OAAT,EAAkB;AAChB,UAAI,OAAOA,OAAP,KAAmB,UAAvB,EAAmC;AACjC,YAAI,CAAC,qCAAaE,IAAb,CAAL,EAAyB;AACvB,+CAAaA,IAAb,IAAqB,CAACF,OAAD,CAArB;AACD,SAFD,MAEO;AACL,+CAAaE,IAAb,EAAmBL,IAAnB,CAAwBG,OAAxB;AACD;AACF;AACF;;;;;;AAGH,eAAe,IAAIV,YAAJ,EAAf","sourcesContent":["class ShoppingList {\r\n  #events\r\n  constructor() {\r\n    this.items = [];\r\n    this.#events = {};\r\n  }\r\n\r\n  add(item) {\r\n    const itemIndex = this.items.findIndex(i => i.id === item.id)\r\n    if (itemIndex === -1) {\r\n      this.items.push(item);\r\n    } else {\r\n      this.items[itemIndex].ammount = item.ammount;\r\n    }\r\n    if (this.#events['add']) {\r\n      this.#events['add'].forEach(watcher => watcher(item));\r\n    }\r\n  }\r\n\r\n  remove(item) {\r\n    this.items = this.items.filter(i => i.id !== item.id);\r\n    if (this.#events['remove']) {\r\n      this.#events['remove'].forEach(watcher => watcher(this.items));\r\n    }\r\n  }\r\n\r\n  getItems() {\r\n    return this.items;\r\n  }\r\n\r\n  on(type, watcher) {\r\n    if (typeof watcher === 'function') {\r\n      if (!this.#events[type]) {\r\n        this.#events[type] = [watcher];\r\n      } else {\r\n        this.#events[type].push(watcher);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default new ShoppingList();"]}]}