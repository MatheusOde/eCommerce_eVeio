{"remainingRequest":"D:\\GitHub\\eveio\\node_modules\\babel-loader\\lib\\index.js!D:\\GitHub\\eveio\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\GitHub\\eveio\\src\\components\\ShoppingList.js","dependencies":[{"path":"D:\\GitHub\\eveio\\src\\components\\ShoppingList.js","mtime":1638387830162},{"path":"D:\\GitHub\\eveio\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638387814253},{"path":"D:\\GitHub\\eveio\\node_modules\\babel-loader\\lib\\index.js","mtime":1638387813613},{"path":"D:\\GitHub\\eveio\\node_modules\\eslint-loader\\index.js","mtime":1638387818320}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJEOi9HaXRIdWIvZXZlaW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJEOi9HaXRIdWIvZXZlaW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9jbGFzc1ByaXZhdGVGaWVsZEdldCBmcm9tICJEOi9HaXRIdWIvZXZlaW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzUHJpdmF0ZUZpZWxkR2V0IjsKaW1wb3J0IF9jbGFzc1ByaXZhdGVGaWVsZFNldCBmcm9tICJEOi9HaXRIdWIvZXZlaW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzUHJpdmF0ZUZpZWxkU2V0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMud2Vhay1tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKCnZhciBfZXZlbnRzID0gLyojX19QVVJFX18qL25ldyBXZWFrTWFwKCk7Cgp2YXIgU2hvcHBpbmdMaXN0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBTaG9wcGluZ0xpc3QoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2hvcHBpbmdMaXN0KTsKCiAgICBfZXZlbnRzLnNldCh0aGlzLCB7CiAgICAgIHdyaXRhYmxlOiB0cnVlLAogICAgICB2YWx1ZTogdm9pZCAwCiAgICB9KTsKCiAgICB0aGlzLml0ZW1zID0gW107CgogICAgX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9ldmVudHMsIHt9KTsKICB9CgogIF9jcmVhdGVDbGFzcyhTaG9wcGluZ0xpc3QsIFt7CiAgICBrZXk6ICJhZGQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZChpdGVtKSB7CiAgICAgIHZhciBpdGVtSW5kZXggPSB0aGlzLml0ZW1zLmZpbmRJbmRleChmdW5jdGlvbiAoaSkgewogICAgICAgIHJldHVybiBpLmlkID09PSBpdGVtLmlkOwogICAgICB9KTsKCiAgICAgIGlmIChpdGVtSW5kZXggPT09IC0xKSB7CiAgICAgICAgdGhpcy5pdGVtcy5wdXNoKGl0ZW0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaXRlbXNbaXRlbUluZGV4XS5hbW1vdW50ID0gaXRlbS5hbW1vdW50OwogICAgICB9CgogICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ldmVudHMpWydhZGQnXSkgewogICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfZXZlbnRzKVsnYWRkJ10uZm9yRWFjaChmdW5jdGlvbiAod2F0Y2hlcikgewogICAgICAgICAgcmV0dXJuIHdhdGNoZXIoaXRlbSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW1vdmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZShpdGVtKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLml0ZW1zID0gdGhpcy5pdGVtcy5maWx0ZXIoZnVuY3Rpb24gKGkpIHsKICAgICAgICByZXR1cm4gaS5pZCAhPT0gaXRlbS5pZDsKICAgICAgfSk7CgogICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ldmVudHMpWydyZW1vdmUnXSkgewogICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfZXZlbnRzKVsncmVtb3ZlJ10uZm9yRWFjaChmdW5jdGlvbiAod2F0Y2hlcikgewogICAgICAgICAgcmV0dXJuIHdhdGNoZXIoX3RoaXMuaXRlbXMpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0SXRlbXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEl0ZW1zKCkgewogICAgICByZXR1cm4gdGhpcy5pdGVtczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb24odHlwZSwgd2F0Y2hlcikgewogICAgICBpZiAodHlwZW9mIHdhdGNoZXIgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICBpZiAoIV9jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfZXZlbnRzKVt0eXBlXSkgewogICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ldmVudHMpW3R5cGVdID0gW3dhdGNoZXJdOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX2V2ZW50cylbdHlwZV0ucHVzaCh3YXRjaGVyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9XSk7CgogIHJldHVybiBTaG9wcGluZ0xpc3Q7Cn0oKTsKCmV4cG9ydCBkZWZhdWx0IG5ldyBTaG9wcGluZ0xpc3QoKTs="},{"version":3,"sources":["D:/GitHub/eveio/src/components/ShoppingList.js"],"names":["ShoppingList","items","item","itemIndex","findIndex","i","id","push","ammount","forEach","watcher","filter","type"],"mappings":";;;;;;;;;;;;;;IAAMA,Y;AAEJ,0BAAc;AAAA;;AAAA;AAAA;AAAA;AAAA;;AACZ,SAAKC,KAAL,GAAa,EAAb;;AACA,yCAAe,EAAf;AACD;;;;WAED,aAAIC,IAAJ,EAAU;AACR,UAAMC,SAAS,GAAG,KAAKF,KAAL,CAAWG,SAAX,CAAqB,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAACC,EAAF,KAASJ,IAAI,CAACI,EAAlB;AAAA,OAAtB,CAAlB;;AACA,UAAIH,SAAS,KAAK,CAAC,CAAnB,EAAsB;AACpB,aAAKF,KAAL,CAAWM,IAAX,CAAgBL,IAAhB;AACD,OAFD,MAEO;AACL,aAAKD,KAAL,CAAWE,SAAX,EAAsBK,OAAtB,GAAgCN,IAAI,CAACM,OAArC;AACD;;AACD,UAAI,qCAAa,KAAb,CAAJ,EAAyB;AACvB,6CAAa,KAAb,EAAoBC,OAApB,CAA4B,UAAAC,OAAO;AAAA,iBAAIA,OAAO,CAACR,IAAD,CAAX;AAAA,SAAnC;AACD;AACF;;;WAED,gBAAOA,IAAP,EAAa;AAAA;;AACX,WAAKD,KAAL,GAAa,KAAKA,KAAL,CAAWU,MAAX,CAAkB,UAAAN,CAAC;AAAA,eAAIA,CAAC,CAACC,EAAF,KAASJ,IAAI,CAACI,EAAlB;AAAA,OAAnB,CAAb;;AACA,UAAI,qCAAa,QAAb,CAAJ,EAA4B;AAC1B,6CAAa,QAAb,EAAuBG,OAAvB,CAA+B,UAAAC,OAAO;AAAA,iBAAIA,OAAO,CAAC,KAAI,CAACT,KAAN,CAAX;AAAA,SAAtC;AACD;AACF;;;WAED,oBAAW;AACT,aAAO,KAAKA,KAAZ;AACD;;;WAED,YAAGW,IAAH,EAASF,OAAT,EAAkB;AAChB,UAAI,OAAOA,OAAP,KAAmB,UAAvB,EAAmC;AACjC,YAAI,CAAC,qCAAaE,IAAb,CAAL,EAAyB;AACvB,+CAAaA,IAAb,IAAqB,CAACF,OAAD,CAArB;AACD,SAFD,MAEO;AACL,+CAAaE,IAAb,EAAmBL,IAAnB,CAAwBG,OAAxB;AACD;AACF;AACF;;;;;;AAGH,eAAe,IAAIV,YAAJ,EAAf","sourcesContent":["class ShoppingList {\r\n  #events\r\n  constructor() {\r\n    this.items = [];\r\n    this.#events = {};\r\n  }\r\n\r\n  add(item) {\r\n    const itemIndex = this.items.findIndex(i => i.id === item.id)\r\n    if (itemIndex === -1) {\r\n      this.items.push(item);\r\n    } else {\r\n      this.items[itemIndex].ammount = item.ammount;\r\n    }\r\n    if (this.#events['add']) {\r\n      this.#events['add'].forEach(watcher => watcher(item));\r\n    }\r\n  }\r\n\r\n  remove(item) {\r\n    this.items = this.items.filter(i => i.id !== item.id);\r\n    if (this.#events['remove']) {\r\n      this.#events['remove'].forEach(watcher => watcher(this.items));\r\n    }\r\n  }\r\n\r\n  getItems() {\r\n    return this.items;\r\n  }\r\n\r\n  on(type, watcher) {\r\n    if (typeof watcher === 'function') {\r\n      if (!this.#events[type]) {\r\n        this.#events[type] = [watcher];\r\n      } else {\r\n        this.#events[type].push(watcher);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default new ShoppingList();"]}]}